\documentclass[english]{article}

\usepackage{babel}
\usepackage{graphicx}
\usepackage{alltt}
\usepackage{url}
\usepackage{tabularx}
%\usepackage{ngerman}
\usepackage{longtable}
\usepackage{color}
\usepackage{framed}

\usepackage{xifthen}
\newboolean{showbackdoors}
\setboolean{showbackdoors}{true}  % set to false to hide subsection on backdoors for reviewing group


\newenvironment{prettytablex}[1]{\vspace{0.3cm}\noindent\tabularx{\linewidth}{@{\hspace{\parindent}}#1@{}}}{\endtabularx\vspace{0.3cm}}
%\newenvironment{prettytable}{\prettytablex{l X}}{\endprettytablex}



\title{\huge\sffamily\bfseries System Description and Risk Analysis}
\author{Alexandre Chamber \and Tiago Kieliger \and Dorian Laforest \and Livio Sgier}
\date{\dots}


\begin{document}
\maketitle

%% **** please observe the page limit **** 
%% (it is not allowed to change the font size or page geometry to gain more space)
%% comment or remove lines below before hand-in
\begin{center}
{\large\textcolor{red}{Page limit: 30 pages.}}
\end{center}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tableofcontents
\pagebreak

\begin{framed}
\noindent
{\it
Recall the following guidelines when writing your reports:
\begin{itemize}
\item Adhere to the given templates.

\item Refer to the security principles in the book for justification.

\item Use clear terminology: 
\begin{itemize}
\item secure = confidential + authentic. Be clear about
which properties you are writing.
\item Are pairwise distinct: certificate, private key, public key, archive to of certificate with private key. Please avoid mixing these up.
\end{itemize}

\item Refer to the source document of your risk definitions if appropriate.

\item For the risk evaluation, formulate the threats in active, not passive, 
voice: who (threat source) does what (threat action)? 

\item Use a spell checker before hand-in!

\end{itemize}
}
\end{framed}


\section{System Characterization}

\subsection{System Overview}

Describe the system's mission,  the system boundaries,
and the overall system architecture, including the main subsystems and
their relationships.   This description should provide a high-level
overview of the system, e.g., suitable for managers, that complements
the more technical description that follows.

\begin{figure}
  \includegraphics[width=\linewidth]{report/system_architecture.jpg}
  \caption{System architecture overview}
  \label{fig:system_architecture}
\end{figure}


\subsection{System Functionality}

Describe the system's functions.


\subsection{Security Design}

Describe the system's security design, including access control, key and session management,  and security of data at rest and in transit.


\subsection{Components}

List all system components and their interfaces, subdivided, for example, into
  categories such as platforms, applications, data records, etc. For
  each component, state its relevant properties.


\ifthenelse{\boolean{showbackdoors}}{
% show for handed-in version

\subsection{Backdoors}

Describe the implemented backdoors. 

\bigskip\noindent
\textbf{Hide this subsection in the version handed over to the reviewing team by setting the flag \texttt{showbackdoors} at the top of this document to \texttt{false}.}


%% do not delete the three lines below
}{ 
% empty for reviewing group's version
} 

\subsection{Additional Material}

You may have additional sections according to your needs.


\section{Risk Analysis and Security Measures}

\subsection{Assets}

\textit{Describe the relevant assets and their required security
  properties. For example, data objects, access restrictions,
  configurations, etc.
  }
 
We define different assets categorized in families such that physical assets, logical assets or persons.

\subsubsection{Physical Assets}
As seen before, the system is divided into multiple components in order to simplify the development and maintenance and to increase security.

\textbf{Web Server}: This server runs the \emph{Webserver}. It serves as the entry point for Internet clients and offers an interface to change account data, making issuance and revocation requests. It is located in the Demilitarized Zone (DMZ) of iMovies' corporate network.

\textbf{Certificate Authority Server}: This server runs the \emph{CA Core} application, which is responsible for issuing and revoking certificates. It is located in the Intranet of iMovies.

%It is virtually located in the company's intranet and physically located in the server's bay which is underground. This server is also located in the same rack as the MySQL and backup servers.

\textbf{MySQL server}: This server hosts the \emph{MySQL Database}. It contains employee data, such as names, email addresses and hashed password. However, no certificates are stored in the database. This server is located in the Intranet of iMovies.

\textbf{Backup Server}: This server hosts the \emph{Backup System}. It stores log and configuration information from the different systems. It is also part of the Intranet of iMovies.

TODO: Think more carefully about how to do backups (see slack)

\textbf{Demilitarized Zone (DMZ)}: this internal network is the one where exposed servers will be located. We say exposed servers when those servers are directly facing the internet, that means the web server. A firewall between the internet and the DMZ has the role of filtering data coming from the network to the DMZ. This DMZ is essential for the company's productivity. If it goes down, end-users will not be able to request or revoke certificates anymore. On top of that, administrators will not be able to log in and access the certificate authority data.

\textbf{Internal network} : this network is the Intranet of the company. It hosts the other servers such as the MySQL database, certificate authority and backup servers. This network is also essential for the company's productivity. If it goes down, the end-users will not be able to access the data it stores. This network also contains a L2 switch.

\textbf{Edge Router} : this router is the first element of the system facing the internet. It is locatd on the internet-facing side of the firewall and routes the traffic from the internet to the webserver. 

\textbf{Firewall}: This server hosts our firewall and serves as the entry point to our network. It connects to the router which is the gateway to the Internet.

\textbf{Internet Connectivity}: The router connects to the service providerâ€™s network over fiber and to the server hosting our firewall via Ethernet.

\subsubsection{Logical Assets}

All logical assets mentioned here are software systems running on the various machines of iMovies.

\textbf{Firewall} A software firewall is used to control and restrict the flow of communication across the various systems of iMovies.

\textbf{Certificate Authority} This software is responsible for the issuance and revocation of certificates as requested by the employees of iMovies.

\textbf{Webserver} 





\subsubsection{Persons}
\subsubsection{Intangible Goods}


\subsection{Threat Sources}

\textit{Name and describe potential threat sources (\emph{not} threats!) including their motivation.}

\textbf{Nature}: the building is located in the city center. The exterior risks are natural disaster such as earthquakes, lightning and meteors but also include fires.

\textbf{Employees}: we consider here different categories of people that could interact voluntarily in a malicious way with the system in itself. First there is the people allowed to deploy the code and make modifications in the architecture, the engineers. The system administrator, as well as the CA administrator have a direct access to the machines or to the data and should be taken into account. Finally, non-technical employees such as the ones from the cleaning company or the concierge should also be taken into account as they may access rooms where the production servers or the backup servers are located, therefore enabling them to have a physical access on the data.

\textbf{Script kiddies}: as the website is connected to the internet, script kiddies may find it and infer with it using automated tools for a low-complexity attack.

\textbf{Skilled hackers}: as critical data is stored on the server (private keys, certificates), the system is definitely an interesting target for skilled hackers. The data stolen could then be sold for large amount on the deep web or could be used in a malicious way to, for example, steal someone's identity or deliver malicious certificates from the ones stolen.

\textbf{Competitors}: 

\textbf{Governmental agencies}: here is the same reasoning as for skilled hackers. Governmental companies might be interested in stealing private keys or certificates in order to decrypt messages or to forge malicious certificates, starting from a legitimate one. They might be interested because the cost of stealing private keys is potentially lower than brute-forcing or finding the private key from the public one.

\textbf{Malware}: the system is directly exposed to the internet, therefore undirected malware such as worms might attack the system. 

\subsection{Risks Definitions}

Define likelihood, impact and risk level using the following three
  tables.

%\subsubsection{Tools}

\begin{center}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|c|}{\bf Likelihood} \\
\hline
Likelihood & Description \\
\hline
\hline
High   & \hspace*{20pt}\ldots \\
\hline
Medium & \hspace*{20pt}\ldots \\
\hline
Low   & \hspace*{20pt}\ldots \\
\hline
\end{tabular}
\hspace{3em}
\begin{tabular}{|l|l|}
\hline
\multicolumn{2}{|c|}{\bf Impact} \\
\hline
Impact & Description \\
\hline
\hline
High   & \hspace*{20pt}\ldots \\
\hline
Medium & \hspace*{20pt}\ldots \\
\hline
Low   & \hspace*{20pt}\ldots \\
\hline
\end{tabular}
\end{center}

\vspace{5mm}

\begin{center}
\begin{tabular}{|l|c|c|c|}
\hline
\multicolumn{4}{|c|}{{\bf Risk Level}} \\
\hline
{{\bf Likelihood}} & \multicolumn{3}{c|}{{\bf Impact}} \\ %\cline{2-4}
     & Low & Medium & High \\  \hline
 High & Low & Medium & High  \\
\hline
 Medium & Low & Medium & Medium \\
\hline
 Low & Low & Low & Low \\
\hline
\end{tabular}
\end{center}


\subsection{Risk Evaluation}

List all potential threats and the corresponding countermeasures. Estimate the risk based on the information about the threat, the threat sources and the corresponding countermeasure. Adhere to the risk definitions you have given above. As a sanity check, there should be at least one high-risk entry.


\subsubsection{{\it Evaluation Asset X}}

Evaluate the likelihood, impact and the resulting risk,  \emph{after implementation of the corresponding countermeasures}. Formulate the threats in active, not passive, 
voice: who (threat source) does what (threat action)? 

\begin{footnotesize}
\begin{prettytablex}{llp{5.5cm}lll}
No. & Threat &  Countermeasure(s) & L & I & Risk \\
\hline
1 & ... & ... & {\it Low} & {\it Low} & {\it Low} \\
\hline
2 & ... & ...& {\it Medium} & {\it High} & {\it Medium} \\
\hline
\end{prettytablex}
\end{footnotesize}



\subsubsection{{\it Evaluation Asset y}}

\begin{footnotesize}
\begin{prettytablex}{llp{5.5cm}lll}
No. & Threat & Countermeasure(s) & L & I & Risk \\
\hline
1 & ... & ... & {\it Low} & {\it Low} & {\it Low} \\
\hline
2 & ... & ...& {\it Medium} & {\it High} & {\it Medium} \\
\hline
\end{prettytablex}
\end{footnotesize}

\subsubsection{Detailed Description of Selected Countermeasures}

Optionally explain the details of the countermeasures mentioned above.



\subsubsection{Risk Acceptance}

List all medium and high risks, according to the evaluation above. For each risk, propose additional countermeasures that could be implemented to further reduce the risks.

\begin{footnotesize}
\begin{prettytablex}{p{2cm}X}
No. of threat & Proposed additional countermeasure including expected impact  \\
\hline
... & ... \\
\hline
... & ... \\
\hline
\end{prettytablex}
\end{footnotesize}

\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../../book"
%%% End: 

